import{r as o,u as r,a as y,R as D,S as d,j as s,b as u,_ as l,c as f}from"./index-e5bc4788.js";function T(t){const[e,g]=o.useState(t.data),[a]=r(A),[m]=r(R),[C]=r(v);function h(){S(),g(()=>t.data.filter(c=>{const n=y(c.name.toString()),E=y(c.nativeName.toString()),_=c.region;return(n.includes(a)||E.includes(a))&&(!D.includes(m)||_==m)}))}function S(){switch(C){case d[0]:t.sortAlphabetically.fromA();break;case d[1]:t.sortAlphabetically.fromZ();break;case d[2]:t.sortNumerically.fromHighest();break;case d[3]:t.sortNumerically.fromLowest();break}}return{countries:e,changeCountries:h}}const L=u.lazy(()=>l(()=>import("./SearchFilters-b1f88b09.js"),["assets/SearchFilters-b1f88b09.js","assets/index-e5bc4788.js","assets/index-2034bf38.css","assets/use-in-view-ec4ce1da.js","assets/resolve-element-c88bed57.js"])),N=u.lazy(()=>l(()=>import("./CountryDeck-604935c4.js"),["assets/CountryDeck-604935c4.js","assets/index-e5bc4788.js","assets/index-2034bf38.css"])),k=u.lazy(()=>l(()=>import("./NoCountriesFound-933ff351.js"),["assets/NoCountriesFound-933ff351.js","assets/index-e5bc4788.js","assets/index-2034bf38.css"])),z=u.lazy(()=>l(()=>import("./ScrollToTop-90bc98ee.js"),["assets/ScrollToTop-90bc98ee.js","assets/index-e5bc4788.js","assets/index-2034bf38.css","assets/use-scroll-738d6b1f.js","assets/resolve-element-c88bed57.js"])),I=u.lazy(()=>l(()=>import("./PageSelector-fe0e56ce.js"),["assets/PageSelector-fe0e56ce.js","assets/index-e5bc4788.js","assets/index-2034bf38.css"])),O=f(0),A=f(""),R=f(""),v=f("");function V(t){const[e,g]=r(O),[a,m]=r(A),[C,h]=r(R),[S,c]=r(v),{countries:n,changeCountries:E}=T(t.countriesData),[_,x]=o.useState(n.slice(e*t.cardCount,e*t.cardCount+t.cardCount)),[P,b]=o.useState(!1),j=o.useRef(null);return o.useEffect(()=>{b(!0)},[]),o.useEffect(()=>{P&&e!=null&&scrollTo({top:0,behavior:"smooth"})},[e]),o.useEffect(()=>{E(),g(0)},[a,C,S]),o.useEffect(()=>{x(n.slice(e*t.cardCount,e*t.cardCount+t.cardCount))},[n,e]),s.jsxs("div",{ref:j,className:"grid homepage-grid py-8",children:[s.jsx(L,{searchQueryState:a,onSearchChange:i=>m(y(i.target.value)),onSortingChange:i=>c(i),onRegionalFilterChange:i=>h(i)}),_.length!=0?s.jsx(N,{countries:_}):s.jsx(k,{}),n.length!=0&&s.jsx(I,{countryCount:n.length,cardCount:t.cardCount,currentPage:e,setCurrentPage:g}),s.jsx(z,{})]})}export{O as currentPageAtom,V as default,R as regionAtom,A as searchQueryAtom,v as sortingAtom};
